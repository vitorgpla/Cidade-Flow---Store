<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&family=Orbitron:wght@900&family=Poppins:wght@400;500;600;700&family=Roboto+Condensed:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">

    <link rel="stylesheet" href="assets/style.css" />

    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="index,nofollow"/>
    <meta property="twitter:image" content="assets/imgs/logocf.png"/>
    <meta property="twitter:card" content="summary"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="default"/>
    <meta property="og:type" content="website"/>
    <meta property="og:locale" content="pt_BR"/>
    <meta property="og:title" content="Home - Cidade Flow"/>
    <meta property="og:site_name" content="Cidade Flow"/>
    <meta property="og:description" content="Venha adquirir alguns dos nossos vips!
lembre-se de verificar se tem algum CUPOM"/>
    <meta property="og:image" content="assets/imgs/logocf.png"/>
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="627"/>
    <meta name="description" content="Venha adquirir alguns dos nossos vips!
lembre-se de verificar se tem algum CUPOM"/>
    <meta name="keywords" content="Cidade Flow, Loja Cidade Flow, Servidor Cidade Flow, Cidade Flow Roleplay, Vitor RP"/>

    <title>Home - Cidade Flow</title>

    <link rel="icon" type="image/x-icon" href="assets/imgs/logocf.png">
  </head>
  <body>
    <!-- Header -->
    <header>
  <nav>
    <div class="container">
      <ul>
        <li>
          <div class="cc__nav_links">
            <a class="animate active" href="/">IN√çCIO</a>

              
            <a class="animate" href="https://www.instagram.com/cidade.flowrp/" target="_blank">INSTAGRAM</a>
               
          </div>

          <div class="cc__nav_buttons">
            <a href="#store" class="cc__header___store_btn">LOJA</a>

            <a
              href="/carrinho"
              class="animate "
            >
              <i class="fa-solid fa-cart-shopping"></i>
              CARRINHO
            </a>
          </div>
        </li>
      </ul>
    </div>
  </nav>

  <div class="cc__header___hero container" style="">
    <div class="cc__header___hero__wrapper">
      <div class="cc__header___hero__widget">
        <i class="fa-solid fa-fire-flame-curved"></i>

        
        <a href="mtasa://cidadeflowrp.play.srv.br:22023" target="_blank">
          <h1>CONECTAR-SE AO MTA</h1>
          <p>Clique para jogar</p>
        </a>        
        

      </div>

      <div
        class="cc__header___hero__logo 
        "
      >
        <a href="/">
          
          <img src="assets/imgs/logocf.png" />
          
        </a>
      </div>

      <div class="cc__header___hero__widget">
        
        
        <a href="https://discord.gg/YFm2XFKME5" target="_blank">
        
          <h1>ENTRAR NO DISCORD</h1>
          <p>Participe da comunidade</p>
        </a>

        <i class="fa-brands fa-discord right"></i>
      </div>
    </div>
  </div>
</header>

<div class="cc__index___maisvendidos">
  <h1>MAIS VENDIDOüî•</h1>
  <div class="conteudo-extra">
  </div>
</div>


    <!-- Page content -->
    <div id="store" class="cc__index___grid container">
      <div class="cc__index___sidebar">
        <div class="cc__index___sidebar__navigation">
          <ul>
            <li class="active">
              <a href="/">
                <i class="fa-solid fa-house"></i>
                IN√çCIO
              </a>
            </li>
      
            
            <li class="">
              <a href="/categoria/forjados">
                <i class="fa-solid fa-bars"></i>
                VIP's
                <i class="fa-solid fa-caret-right"></i>
              </a>
            </li>
            
            <li class="">
              <a href="/categoria/elites">
                <i class="fa-solid fa-bars"></i>
                MOTOS
                <i class="fa-solid fa-caret-right"></i>
              </a>
            </li>
            
            <li class="">
              <a href="/categoria/importados">
                <i class="fa-solid fa-bars"></i>
                CASAS/MANS√ïES
                <i class="fa-solid fa-caret-right"></i>
              </a>
            </li>
            
            <li class="">
              <a href="/categoria/vips">
                <i class="fa-solid fa-bars"></i>
                APARTAMENTOS
                <i class="fa-solid fa-caret-right"></i>
              </a>
            </li>
            
            <li class="">
              <a href="/categoria/patrao">
                <i class="fa-solid fa-bars"></i>
                PATR√ÉO
                <i class="fa-solid fa-caret-right"></i>
              </a>
            </li>
            
            <li class="">
              <a href="/categoria/coins">
                <i class="fa-solid fa-bars"></i>
                FLOW COINS
                <i class="fa-solid fa-caret-right"></i>
              </a>
            </li>
            
            <li class="">
              <a href="/categoria/money">
                <i class="fa-solid fa-bars"></i>
                MONEY
                <i class="fa-solid fa-caret-right"></i>
              </a>
            </li>
            
            <li class="">
              <a href="/categoria/BONUS">
                <i class="fa-solid fa-bars"></i>
                KIT INICIAL
                <i class="fa-solid fa-caret-right"></i>
              </a>
            </li>
            
          </ul>
        </div>
    
        
        <div class="cc__index___widgets">
          

            

            
        <div>
  <div class="cc__widget___connection">
    <h1>
      JUNTE-SE A N√ìS
    </h1>

    <p>Clique no bot√£o abaixo para entrar na cidade.</p>

    <a href="mtasa://cidadeflowrp.play.srv.br:22023" target="_blank">
      <strong>JOGAR AGORA!</strong>
    </a>
  </div>
</div>
            

            

         
              <div>
  <div class="cc__widget___product">
    <img src="assets/imgs/vips/vipprata.png" />
    <h2>VIP PRATA</h2>
    <p>
      por
      <strong style="color: #ceb216;"
        >R$25,00</strong
      >
    </p>

    <button data-bs-toggle="modal" data-bs-target="#product-highligh-modal">
      <strong>COMPRAR!</strong>
    </button>
  </div>

  <!-- Modal -->
  <div
    class="modal fade"
    id="product-highligh-modal"
    tabindex="-1"
    aria-labelledby="product_highligh_modal"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="product_highligh_modal">VIP PRATA</h5>
          <button
            type="button"
            class="btn-close btn-close-white"
            data-bs-dismiss="modal"
            aria-label="Fechar"
          ></button>
        </div>
        <div class="modal-body">
          <img src="assets/imgs/vips/vipprata.png" alt="VIP MAIS VENDIDOüî•" class="imagem-vipprata">
          <p>- Sal√°rio di√°rio $10,000</p>
          <p>- AK-47</p>
          <p>- Colt-45</p>
          <p>- Roupa VIP (Feminina)</p>
          <p>- Roupa VIP 02</p>
          <p>- Estilo de Luta Box</p>
          <p>- Estilo de Andar 01</p>
          <p>- Kawasaki H2R</p>
          <p>- Toyota Supra</p>
          <p>- Reparar</p>
          <p>- Veiculo Colorido</p>
          <p>- Vida 80%</p>
          <p>- Fome 100%</p>
          <p>- Sede 100%</p>
          <p>- Diminui 50% da Pena (Quando for preso ser√° pela metade do que o Policial colocar.)</p>        
        </div>        
        
        <div class="modal-footer">
          <p class="cc__widget___product_modal_price">por <strong>R$25,00</strong></p>
          <button type="button" class="ghost-btn" data-bs-dismiss="modal">Fechar</button>
          <button type="button" class="add-cart cta-btn">Adicionar ao carrinho</button>
        </div>
      </div>
    </div>
  </div>
</div>

            

          
        </div>
        
      </div>

      

      <div class="cc__index___content">
        <div class="cc__index___content__panel">
          <div>
  
    <div style="padding: 48px;"></div>
  

  

  
  
  
</div>
        </div>
      </div>
    </div>
    <!-- Footer -->
    <footer>
  <div class="cc__footer___wrapper container">
    <div class="cc__footer___left_element">
      
      <a href="/">
        <img src="assets/imgs/logocf.png" width="90px" />
      </a>
      
      <div>
        <p><b>Cidade Flow</b> ¬© 2022</p>
        <p>N√£o somos afiliados a Rockstar Games.</p>
      </div>
    </div>

    <p>Feito com ‚ù§Ô∏è por <a href="https://youtube.com/VitorRP" target="_blank">VitorRP!</a></p>
  </div>
</footer>

    
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://kit.fontawesome.com/4ea8a98576.js" crossorigin="anonymous"></script>
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>

    <script>
  window.onpageshow = function (event) {
    if (event.persisted) {
      window.location.reload()
    }
  }

  document.querySelectorAll('oembed[url]').forEach(element => {
    const url = element.attributes.getNamedItem('url').textContent
    const video = url.substring(url.length - 11, url.length)

    element.insertAdjacentHTML('beforeend', `<iframe width="100%" height="420" src="https://www.youtube.com/embed/${video}"></iframe>`)
  });

  function sendMessage(message) {
    console.log(`%c[CENTRALCART]: %c${message}`, 'color: #00dc82;', '')
  }

  $('.cc__checkout___options_btn').each(function (_, el) {
    $(this).toggleClass('open')
    $(this).parents('tr').next('tr').toggleClass('open')
  })

  $('.cc__checkout___options_btn').on('click', function () {
    sendMessage('CLICKED')

    $(this).toggleClass('open')
    $(this).parents('tr').next('tr').toggleClass('open')
  })

  $('.cc__checkout___option_wrapper').each(function (_, el) {
    const id = $(this).attr('id')

    $(`.cc__checkout___options_btn#${id}`).addClass('enabled')

    return true
  })

  function removeHandler(element, data = 0) {
    /*element.parents('tr').next().remove()
    element.parents('tr').remove()

    $('.cc__checkout___total_price').text(data.total_price)

    $('.cta-btn.checkout').text(`Comprar (${data.total_price})`)

    if (data.cart_products.length <= 0) {
      $('.cc__checkout___no_products').show()
    }*/

    window.location.reload()

    sendMessage('Produto removido do carrinho.')
  }

  $('#apply-coupon').click(function () {
    let timeout

    function showError(message) {
      $('.coupon-error').show().text(message)

      timeout = setTimeout(() => {
        $('.coupon-error').hide()
      }, 3000)
    }

    const coupon = $('.coupon-input').val()

    if (!coupon) {
      showError('Parece que voc√™ esqueceu de informar o cupom.')
      return
    }

    const oldPrice = $('.cc__checkout___total_price').html()
    const oldButton = $(this).html()

    $('.cc__checkout___total_price').html('<i class="fa-solid fa-rotate rotate"></i>')
    $(this).html('<i class="fa-solid fa-rotate rotate" style="color: white; margin: 0;"></i>')

    if (!$(this).hasClass('red')) {
      $.ajax({
        type: 'PUT',
        url: `/cart/coupon/${coupon}`,
      })
        .then((data) => {
          $(this).removeClass('primary')
          $(this).addClass('red')
          $(this).text('Remover')

          $('.cc__checkout___total_price').text(data.total_price)
          $('.cta-btn.checkout').text(`Comprar (${data.total_price})`)
        })
        .fail((fail) => {
          if (fail.responseJSON.errors) {
            showError(fail.responseJSON.errors[0].message)
          }

          $('.cc__checkout___total_price').html(oldPrice)
          $(this).html(oldButton)
        })
    } else {
      $.ajax({
        type: 'DELETE',
        url: `/cart/coupon/`,
      })
        .then((data) => {
          $(this).removeClass('red')
          $(this).addClass('primary')
          $(this).text('Aplicar')
          
          $('.coupon-input').val('')

          $('.cc__checkout___total_price').text(data.total_price)
          $('.cta-btn.checkout').text(`Comprar (${data.total_price})`)
        })
        .fail((fail) => {
          if (fail.responseJSON.errors) {
            showError(fail.responseJSON.errors[0].message)
          }

          $('.cc__checkout___total_price').html(oldPrice)
          $(this).html(oldButton)
        })
    }
  })

  $('.add-cart').on('click', (e) => {
    const id = e.target.id

    $.ajax({
      type: 'POST',
      url: `/cart/get/${id}`,
      success: () => {
        sendMessage('Produto j√° encontrado no carrinho, redirecionando para o checkout...')
        location.href = '/carrinho'
      },
      error: () => {
        sendMessage(`Adicionando o produto #${id} ao carrinho.`)
        $.post(`/cart/add/${id}`).done(() => {
          e.target.textContent = 'Ver no carrinho'
        })
      },
    })
  })

  $('.cc__checkout___remove').on('click', function () {
    const id = $(this).attr('cc-data')

    // Loading icon
    $('.cc__checkout___total_price').html('<i class="fa-solid fa-rotate rotate"></i>')

    $.post(`/cart/set/${id}/0`, (data) => {
      removeHandler($(this), data)
    })
  })

  $('.cc__checkout___quantity_input').on('keypress', (e) => {
    const numbers = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9']

    if (!numbers.includes(e.key)) {
      e.preventDefault()
    }
  })

  $('.cc__checkout___quantity_input').focusout(function () {
    const id = $(this).attr('cc-data')
    const quantity = $(this).val()

    if (quantity <= 0) {
      removeHandler($(this))
    }

    // Loading icon
    $('.cc__checkout___total_price').html('<i class="fa-solid fa-rotate rotate"></i>')

    $.post(`/cart/set/${id}/${quantity}`, (data) => {
      $('.cc__checkout___total_price').text(data.total_price)
      $('.cta-btn.checkout').text(`Comprar (${data.total_price})`)

      sendMessage('Quantidade de itens no carrinho atualizada.')
    })
  })

  {
    let timer

    $('.cc__checkout___increase').on('click', function () {
      if (timer) {
        clearTimeout(timer)
      }

      const id = $(this).attr('cc-data')

      let quantity = parseInt($(this).prev().val()) + 1

      $(this).prev().val(quantity)

      timer = setTimeout(() => {
        // Loading icon
        $('.cc__checkout___total_price').html('<i class="fa-solid fa-rotate rotate"></i>')

        $.post(`/cart/set/${id}/${quantity}`, (data) => {
          $('.cc__checkout___total_price').text(data.total_price)
          $('.cta-btn.checkout').text(`Comprar (${data.total_price})`)

          sendMessage('Quantidade de itens no carrinho atualizada.')
        })
      }, 2000)
    })

    $('.cc__checkout___decrease').on('click', function () {
      if (timer) {
        clearTimeout(timer)
      }

      const id = $(this).attr('cc-data')

      let quantity = parseInt($(this).next().val()) - 1

      if (quantity <= 0) {
        return
      }

      $(this).next().val(quantity)

      timer = setTimeout(() => {
        // Loading icon
        $('.cc__checkout___total_price').html('<i class="fa-solid fa-rotate rotate"></i>')

        $.post(`/cart/set/${id}/${quantity}`, (data) => {
          $('.cc__checkout___total_price').text(data.total_price)
          $('.cta-btn.checkout').text(`Comprar (${data.total_price})`)

          sendMessage('Quantidade de itens no carrinho atualizada.')
        })
      }, 2000)
    })
  }

  $('.discord-btn').click(function (e) {
    e.preventDefault()

    const target = window.open(`/oauth/discord`, '_blank', 'width=640;height=640')
  })

  window.addEventListener('message', (e) => {
    if (e.data.hasOwnProperty('discord')) {
      const discord = e.data.discord

      const avatar_url = discord.avatar ? `https://cdn.discordapp.com/avatars/${discord.id}/${discord.avatar}.png` : `https://cdn.discordapp.com/embed/avatars/${Math.floor(Math.random() * 5) + 1}.png`

      $('input[name=discord]').val(discord.id)
      $('.discord-btn').html(`
        <img class="me-2" src="${avatar_url}" width="25" style="border-radius: 90px;">
        ${discord.username}#${discord.discriminator}
      `)
    }
  })

  $('.cc__checkout___gateways button').click(function () {
    $('.cc__checkout___gateways button').each(function () {
      $(this).removeClass('active')
    })

    $(this).addClass('active')

    if ($(this).val() === 'PICPAY') {
      $('.cc__checkout___form_field input[name=document]').parent().show()
    } else {
      $('.cc__checkout___form_field input[name=document]').parent().hide()
    }
  })

  let warningTimeout = undefined
  $('.cta-btn.checkout').click(function () {
    const email = $('.cc__checkout___form_field input[name=email]').val()
    const clientId = $('.cc__checkout___form_field input[name=id]').val()
    const clientName = $('.cc__checkout___form_field input[name=name]').val().split(' ')[0]
    const clientSurname = $('.cc__checkout___form_field input[name=name]').val().split(' ')[1]
    const clientDocument = $('.cc__checkout___form_field input[name=document]').val()
    const clientDiscord = $('.cc__checkout___form_field input[name=discord]').val()
    const terms = $('.cc__checkout___form_field input[name=terms]').is(':checked')
    const gateway = $('.cc__checkout___gateways button.active').val()

    const options = []
    $('.cc__checkout___option_wrapper select').each(function () {
      $(this).parent
      const productId = parseInt($(this).parent().attr('id'))
      const configId = parseInt($(this).attr('id'))
      const optionId = parseInt($(this).val())

      options.push({ productId, configId, optionId })
    })

    const data = {
      email,
      clientId,
      clientName,
      clientSurname,
      clientDocument,
      clientDiscord,
      terms,
      gateway,
      options,
    }
    $.post('/carrinho/checkout', data, (data) => {
      const { redirectTo, copyPasteCode, qrCode, returnTo } = data

      if (redirectTo) {
        location.href = redirectTo
      } else {
        sendMessage('Mostrando janela de pagamento PIX.')
        $('#checkout-modal').modal('hide')
        $('#pix-modal').modal('show')

        $('#pix-modal').on('hidden.bs.modal', () => {
          location.href = returnTo
        })

        $('#pix-modal .modal-body img').attr('src', `data:image/jpeg;base64,${qrCode}`)

        /**
         *  Fun√ß√£o para copiar o c√≥digo PIX
         * */
        let timeout = undefined
        $('#pix-modal .modal-body button').click(function () {
          if (timeout) return

          const defaultText = $(this).children('span').text()
          $(this).children('span').text('C√≥digo copiado')

          navigator.clipboard.writeText(copyPasteCode)

          sendMessage('C√≥digo PIX copiado.')

          timeout = setTimeout(() => {
            $(this).children('span').text(defaultText)
            timeout = undefined
          }, 3000)
        })

        $('#pix-modal .modal-footer button').click(function () {
          location.href = returnTo
        })
      }
    }).fail((data) => {
      const errors = data.responseJSON.errors

      if (warningTimeout) {
        clearTimeout(warningTimeout)
      }

      $('.cc__checkout___modal_alert_container p').text(errors[0].message)
      $('.cc__checkout___modal_alert_container').fadeIn(300, function () {
        warningTimeout = setTimeout(() => {
          $(this).fadeOut()

          if (data.status === 412) {
            location.reload()
          }
        }, 5000)
      })
    })
  })
</script>

  <script defer src="assets/js/beacon.min.js" integrity="sha512-0ahDYl866UMhKuYcW078ScMalXqtFJggm7TmlUtp0UlD4eQk0Ixfnm5ykXKvGJNFjLMoortdseTfsRT8oCfgGA==" data-cf-beacon='{"rayId":"77b87e1b5fb10156","version":"2022.11.3","r":1,"token":"8080ff681b484ba38ec64f4cc9449243","si":100}' crossorigin="anonymous"></script>
</body>
</html>
